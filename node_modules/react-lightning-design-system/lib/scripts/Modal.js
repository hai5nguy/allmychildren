'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ModalFooter = exports.ModalContent = exports.ModalHeader = undefined;

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _classnames = require('classnames');

var _classnames2 = _interopRequireDefault(_classnames);

var _reactLightningDesignSystem = require('react-lightning-design-system');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Modal = function (_Component) {
  (0, _inherits3.default)(Modal, _Component);

  function Modal() {
    (0, _classCallCheck3.default)(this, Modal);
    return (0, _possibleConstructorReturn3.default)(this, (0, _getPrototypeOf2.default)(Modal).apply(this, arguments));
  }

  (0, _createClass3.default)(Modal, [{
    key: 'hide',
    value: function hide() {
      if (this.props.onHide) {
        this.props.onHide();
      }
    }
  }, {
    key: 'renderChildComponent',
    value: function renderChildComponent(comp) {
      /* eslint-disable no-use-before-define */
      if (comp.type === ModalHeader) {
        return _react2.default.cloneElement(comp, { onClose: this.hide.bind(this) });
      }
      return comp;
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props;
      var className = _props.className;
      var opened = _props.opened;
      var children = _props.children;
      var size = _props.size;
      var props = (0, _objectWithoutProperties3.default)(_props, ['className', 'opened', 'children', 'size']);

      var modalClassNames = (0, _classnames2.default)(className, 'slds-modal', {
        'slds-fade-in-open': opened,
        'slds-modal--large': size === 'large'
      });
      var backdropClassNames = (0, _classnames2.default)(className, 'slds-modal-backdrop', {
        'slds-modal-backdrop--open': opened
      });
      return _react2.default.createElement(
        'div',
        null,
        _react2.default.createElement(
          'div',
          (0, _extends3.default)({ className: modalClassNames, 'aria-hidden': !opened, role: 'dialog' }, props),
          _react2.default.createElement(
            'div',
            { className: 'slds-modal__container' },
            _react2.default.Children.map(children, this.renderChildComponent.bind(this))
          )
        ),
        _react2.default.createElement('div', { className: backdropClassNames })
      );
    }
  }]);
  return Modal;
}(_react.Component);

var MODAL_SIZES = ['large'];

Modal.propTypes = {
  className: _react.PropTypes.string,
  size: _react.PropTypes.oneOf(MODAL_SIZES),
  opened: _react.PropTypes.bool,
  onHide: _react.PropTypes.func,
  children: _react.PropTypes.node
};

var ModalHeader = exports.ModalHeader = function (_Component2) {
  (0, _inherits3.default)(ModalHeader, _Component2);

  function ModalHeader() {
    (0, _classCallCheck3.default)(this, ModalHeader);
    return (0, _possibleConstructorReturn3.default)(this, (0, _getPrototypeOf2.default)(ModalHeader).apply(this, arguments));
  }

  (0, _createClass3.default)(ModalHeader, [{
    key: 'onClose',
    value: function onClose() {
      if (this.props.onClose) {
        this.props.onClose();
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _props2 = this.props;
      var className = _props2.className;
      var title = _props2.title;
      var tagline = _props2.tagline;
      var closeButton = _props2.closeButton;
      var props = (0, _objectWithoutProperties3.default)(_props2, ['className', 'title', 'tagline', 'closeButton']);

      var hdClassNames = (0, _classnames2.default)(className, 'slds-modal__header');
      return _react2.default.createElement(
        'div',
        (0, _extends3.default)({ className: hdClassNames }, props),
        _react2.default.createElement(
          'h2',
          { className: 'slds-text-heading--medium' },
          title
        ),
        tagline ? _react2.default.createElement(
          'p',
          { className: 'slds-m-top--x-small' },
          tagline
        ) : null,
        closeButton ? _react2.default.createElement(_reactLightningDesignSystem.Button, {
          className: 'slds-modal__close',
          icon: 'close',
          iconSize: 'large',
          alt: 'Close',
          inverse: true,
          onClick: this.onClose.bind(this)
        }) : null
      );
    }
  }]);
  return ModalHeader;
}(_react.Component);

ModalHeader.propTypes = {
  title: _react.PropTypes.string,
  tagline: _react.PropTypes.any,
  onClose: _react.PropTypes.func,
  className: _react.PropTypes.string,
  closeButton: _react.PropTypes.bool
};

var ModalContent = exports.ModalContent = function (_Component3) {
  (0, _inherits3.default)(ModalContent, _Component3);

  function ModalContent() {
    (0, _classCallCheck3.default)(this, ModalContent);
    return (0, _possibleConstructorReturn3.default)(this, (0, _getPrototypeOf2.default)(ModalContent).apply(this, arguments));
  }

  (0, _createClass3.default)(ModalContent, [{
    key: 'render',
    value: function render() {
      var _props3 = this.props;
      var className = _props3.className;
      var children = _props3.children;
      var props = (0, _objectWithoutProperties3.default)(_props3, ['className', 'children']);

      var ctClassNames = (0, _classnames2.default)(className, 'slds-modal__content');
      return _react2.default.createElement(
        'div',
        (0, _extends3.default)({ className: ctClassNames }, props),
        children
      );
    }
  }]);
  return ModalContent;
}(_react.Component);

ModalContent.propTypes = {
  className: _react.PropTypes.string,
  children: _react.PropTypes.node
};

var ModalFooter = exports.ModalFooter = function (_Component4) {
  (0, _inherits3.default)(ModalFooter, _Component4);

  function ModalFooter() {
    (0, _classCallCheck3.default)(this, ModalFooter);
    return (0, _possibleConstructorReturn3.default)(this, (0, _getPrototypeOf2.default)(ModalFooter).apply(this, arguments));
  }

  (0, _createClass3.default)(ModalFooter, [{
    key: 'render',
    value: function render() {
      var _props4 = this.props;
      var className = _props4.className;
      var directional = _props4.directional;
      var children = _props4.children;
      var props = (0, _objectWithoutProperties3.default)(_props4, ['className', 'directional', 'children']);

      var ftClassNames = (0, _classnames2.default)(className, 'slds-modal__footer', { 'slds-modal__footer--directional': directional });
      return _react2.default.createElement(
        'div',
        (0, _extends3.default)({ className: ftClassNames }, props),
        children
      );
    }
  }]);
  return ModalFooter;
}(_react.Component);

ModalFooter.propTypes = {
  className: _react.PropTypes.string,
  directional: _react.PropTypes.bool,
  children: _react.PropTypes.node
};

Modal.Header = ModalHeader;
Modal.Content = ModalContent;
Modal.Footer = ModalFooter;

exports.default = Modal;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zY3JpcHRzL01vZGFsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBS007Ozs7Ozs7Ozs7MkJBQ0c7QUFDTCxVQUFJLEtBQUssS0FBTCxDQUFXLE1BQVgsRUFBbUI7QUFDckIsYUFBSyxLQUFMLENBQVcsTUFBWCxHQURxQjtPQUF2Qjs7Ozt5Q0FLbUIsTUFBTTs7QUFFekIsVUFBSSxLQUFLLElBQUwsS0FBYyxXQUFkLEVBQTJCO0FBQzdCLGVBQU8sZ0JBQU0sWUFBTixDQUFtQixJQUFuQixFQUF5QixFQUFFLFNBQVMsS0FBSyxJQUFMLENBQVUsSUFBVixDQUFlLElBQWYsQ0FBVCxFQUEzQixDQUFQLENBRDZCO09BQS9CO0FBR0EsYUFBTyxJQUFQLENBTHlCOzs7OzZCQVFsQjttQkFDaUQsS0FBSyxLQUFMLENBRGpEO1VBQ0MsNkJBREQ7VUFDWSx1QkFEWjtVQUNvQiwyQkFEcEI7VUFDOEIsbUJBRDlCO1VBQ3VDLG9HQUR2Qzs7QUFFUCxVQUFNLGtCQUFrQiwwQkFBVyxTQUFYLEVBQXNCLFlBQXRCLEVBQW9DO0FBQzFELDZCQUFxQixNQUFyQjtBQUNBLDZCQUFxQixTQUFTLE9BQVQ7T0FGQyxDQUFsQixDQUZDO0FBTVAsVUFBTSxxQkFBcUIsMEJBQVcsU0FBWCxFQUFzQixxQkFBdEIsRUFBNkM7QUFDdEUscUNBQTZCLE1BQTdCO09BRHlCLENBQXJCLENBTkM7QUFTUCxhQUNFOzs7UUFDRTs7bUNBQUssV0FBWSxlQUFaLEVBQThCLGVBQWMsQ0FBQyxNQUFELEVBQVUsTUFBSyxRQUFMLElBQW1CLE1BQTlFO1VBQ0U7O2NBQUssV0FBVSx1QkFBVixFQUFMO1lBQ0ksZ0JBQU0sUUFBTixDQUFlLEdBQWYsQ0FBbUIsUUFBbkIsRUFBNkIsS0FBSyxvQkFBTCxDQUEwQixJQUExQixDQUErQixJQUEvQixDQUE3QixDQURKO1dBREY7U0FERjtRQU1FLHVDQUFLLFdBQVksa0JBQVosRUFBTCxDQU5GO09BREYsQ0FUTzs7O1NBZkw7OztBQXFDTixJQUFNLGNBQWMsQ0FBQyxPQUFELENBQWQ7O0FBRU4sTUFBTSxTQUFOLEdBQWtCO0FBQ2hCLGFBQVcsaUJBQVUsTUFBVjtBQUNYLFFBQU0saUJBQVUsS0FBVixDQUFnQixXQUFoQixDQUFOO0FBQ0EsVUFBUSxpQkFBVSxJQUFWO0FBQ1IsVUFBUSxpQkFBVSxJQUFWO0FBQ1IsWUFBVSxpQkFBVSxJQUFWO0NBTFo7O0lBU2E7Ozs7Ozs7Ozs7OEJBQ0Q7QUFDUixVQUFJLEtBQUssS0FBTCxDQUFXLE9BQVgsRUFBb0I7QUFDdEIsYUFBSyxLQUFMLENBQVcsT0FBWCxHQURzQjtPQUF4Qjs7Ozs2QkFLTztvQkFDc0QsS0FBSyxLQUFMLENBRHREO1VBQ0MsOEJBREQ7VUFDWSxzQkFEWjtVQUNtQiwwQkFEbkI7VUFDNEIsa0NBRDVCO1VBQzRDLDBHQUQ1Qzs7QUFFUCxVQUFNLGVBQWUsMEJBQVcsU0FBWCxFQUFzQixvQkFBdEIsQ0FBZixDQUZDO0FBR1AsYUFDRTs7aUNBQUssV0FBWSxZQUFaLElBQWdDLE1BQXJDO1FBQ0U7O1lBQUksV0FBVSwyQkFBVixFQUFKO1VBQTRDLEtBQTVDO1NBREY7UUFHSSxVQUNBOztZQUFHLFdBQVUscUJBQVYsRUFBSDtVQUFxQyxPQUFyQztTQURBLEdBRUEsSUFGQTtRQUtBLGNBQ0E7QUFDRSxxQkFBVSxtQkFBVjtBQUNBLGdCQUFLLE9BQUw7QUFDQSxvQkFBUyxPQUFUO0FBQ0EsZUFBSSxPQUFKO0FBQ0E7QUFDQSxtQkFBVSxLQUFLLE9BQUwsQ0FBYSxJQUFiLENBQWtCLElBQWxCLENBQVY7U0FORixDQURBLEdBU0EsSUFUQTtPQVROLENBSE87OztTQVBFOzs7QUFvQ2IsWUFBWSxTQUFaLEdBQXdCO0FBQ3RCLFNBQU8saUJBQVUsTUFBVjtBQUNQLFdBQVMsaUJBQVUsR0FBVjtBQUNULFdBQVMsaUJBQVUsSUFBVjtBQUNULGFBQVcsaUJBQVUsTUFBVjtBQUNYLGVBQWEsaUJBQVUsSUFBVjtDQUxmOztJQVNhOzs7Ozs7Ozs7OzZCQUNGO29CQUNtQyxLQUFLLEtBQUwsQ0FEbkM7VUFDQyw4QkFERDtVQUNZLDRCQURaO1VBQ3lCLG1GQUR6Qjs7QUFFUCxVQUFNLGVBQWUsMEJBQVcsU0FBWCxFQUFzQixxQkFBdEIsQ0FBZixDQUZDO0FBR1AsYUFDRTs7aUNBQUssV0FBWSxZQUFaLElBQWdDLE1BQXJDO1FBQStDLFFBQS9DO09BREYsQ0FITzs7O1NBREU7OztBQVViLGFBQWEsU0FBYixHQUF5QjtBQUN2QixhQUFXLGlCQUFVLE1BQVY7QUFDWCxZQUFVLGlCQUFVLElBQVY7Q0FGWjs7SUFNYTs7Ozs7Ozs7Ozs2QkFDRjtvQkFDZ0QsS0FBSyxLQUFMLENBRGhEO1VBQ0MsOEJBREQ7VUFDWSxrQ0FEWjtVQUN5Qiw0QkFEekI7VUFDc0Msa0dBRHRDOztBQUVQLFVBQU0sZUFBZSwwQkFDbkIsU0FEbUIsRUFFbkIsb0JBRm1CLEVBR25CLEVBQUUsbUNBQW1DLFdBQW5DLEVBSGlCLENBQWYsQ0FGQztBQU9QLGFBQ0U7O2lDQUFLLFdBQVksWUFBWixJQUFnQyxNQUFyQztRQUErQyxRQUEvQztPQURGLENBUE87OztTQURFOzs7QUFjYixZQUFZLFNBQVosR0FBd0I7QUFDdEIsYUFBVyxpQkFBVSxNQUFWO0FBQ1gsZUFBYSxpQkFBVSxJQUFWO0FBQ2IsWUFBVSxpQkFBVSxJQUFWO0NBSFo7O0FBT0EsTUFBTSxNQUFOLEdBQWUsV0FBZjtBQUNBLE1BQU0sT0FBTixHQUFnQixZQUFoQjtBQUNBLE1BQU0sTUFBTixHQUFlLFdBQWY7O2tCQUVlIiwiZmlsZSI6Ik1vZGFsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCwgUHJvcFR5cGVzIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICdyZWFjdC1saWdodG5pbmctZGVzaWduLXN5c3RlbSc7XG5cblxuY2xhc3MgTW9kYWwgZXh0ZW5kcyBDb21wb25lbnQge1xuICBoaWRlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uSGlkZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkhpZGUoKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXJDaGlsZENvbXBvbmVudChjb21wKSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdXNlLWJlZm9yZS1kZWZpbmUgKi9cbiAgICBpZiAoY29tcC50eXBlID09PSBNb2RhbEhlYWRlcikge1xuICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjb21wLCB7IG9uQ2xvc2U6IHRoaXMuaGlkZS5iaW5kKHRoaXMpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY29tcDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNsYXNzTmFtZSwgb3BlbmVkLCBjaGlsZHJlbiwgc2l6ZSwgLi4ucHJvcHMgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgbW9kYWxDbGFzc05hbWVzID0gY2xhc3NuYW1lcyhjbGFzc05hbWUsICdzbGRzLW1vZGFsJywge1xuICAgICAgJ3NsZHMtZmFkZS1pbi1vcGVuJzogb3BlbmVkLFxuICAgICAgJ3NsZHMtbW9kYWwtLWxhcmdlJzogc2l6ZSA9PT0gJ2xhcmdlJyxcbiAgICB9KTtcbiAgICBjb25zdCBiYWNrZHJvcENsYXNzTmFtZXMgPSBjbGFzc25hbWVzKGNsYXNzTmFtZSwgJ3NsZHMtbW9kYWwtYmFja2Ryb3AnLCB7XG4gICAgICAnc2xkcy1tb2RhbC1iYWNrZHJvcC0tb3Blbic6IG9wZW5lZCxcbiAgICB9KTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9eyBtb2RhbENsYXNzTmFtZXMgfSBhcmlhLWhpZGRlbj17ICFvcGVuZWQgfSByb2xlPSdkaWFsb2cnIHsgLi4ucHJvcHMgfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nc2xkcy1tb2RhbF9fY29udGFpbmVyJz5cbiAgICAgICAgICAgIHsgUmVhY3QuQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCB0aGlzLnJlbmRlckNoaWxkQ29tcG9uZW50LmJpbmQodGhpcykpIH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXsgYmFja2Ryb3BDbGFzc05hbWVzIH0+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IE1PREFMX1NJWkVTID0gWydsYXJnZSddO1xuXG5Nb2RhbC5wcm9wVHlwZXMgPSB7XG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mKE1PREFMX1NJWkVTKSxcbiAgb3BlbmVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgb25IaWRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxufTtcblxuXG5leHBvcnQgY2xhc3MgTW9kYWxIZWFkZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICBvbkNsb3NlKCkge1xuICAgIGlmICh0aGlzLnByb3BzLm9uQ2xvc2UpIHtcbiAgICAgIHRoaXMucHJvcHMub25DbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNsYXNzTmFtZSwgdGl0bGUsIHRhZ2xpbmUsIGNsb3NlQnV0dG9uLCAuLi5wcm9wcyB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBoZENsYXNzTmFtZXMgPSBjbGFzc25hbWVzKGNsYXNzTmFtZSwgJ3NsZHMtbW9kYWxfX2hlYWRlcicpO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17IGhkQ2xhc3NOYW1lcyB9IHsgLi4ucHJvcHMgfT5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT0nc2xkcy10ZXh0LWhlYWRpbmctLW1lZGl1bSc+eyB0aXRsZSB9PC9oMj5cbiAgICAgICAge1xuICAgICAgICAgIHRhZ2xpbmUgP1xuICAgICAgICAgIDxwIGNsYXNzTmFtZT0nc2xkcy1tLXRvcC0teC1zbWFsbCc+eyB0YWdsaW5lIH08L3A+IDpcbiAgICAgICAgICBudWxsXG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgIGNsb3NlQnV0dG9uID9cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBjbGFzc05hbWU9J3NsZHMtbW9kYWxfX2Nsb3NlJ1xuICAgICAgICAgICAgaWNvbj0nY2xvc2UnXG4gICAgICAgICAgICBpY29uU2l6ZT0nbGFyZ2UnXG4gICAgICAgICAgICBhbHQ9J0Nsb3NlJ1xuICAgICAgICAgICAgaW52ZXJzZVxuICAgICAgICAgICAgb25DbGljaz17IHRoaXMub25DbG9zZS5iaW5kKHRoaXMpIH1cbiAgICAgICAgICAvPiA6XG4gICAgICAgICAgbnVsbFxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbn1cblxuTW9kYWxIZWFkZXIucHJvcFR5cGVzID0ge1xuICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgdGFnbGluZTogUHJvcFR5cGVzLmFueSxcbiAgb25DbG9zZTogUHJvcFR5cGVzLmZ1bmMsXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgY2xvc2VCdXR0b246IFByb3BUeXBlcy5ib29sLFxufTtcblxuXG5leHBvcnQgY2xhc3MgTW9kYWxDb250ZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgY3RDbGFzc05hbWVzID0gY2xhc3NuYW1lcyhjbGFzc05hbWUsICdzbGRzLW1vZGFsX19jb250ZW50Jyk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXsgY3RDbGFzc05hbWVzIH0geyAuLi5wcm9wcyB9PnsgY2hpbGRyZW4gfTwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuTW9kYWxDb250ZW50LnByb3BUeXBlcyA9IHtcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG59O1xuXG5cbmV4cG9ydCBjbGFzcyBNb2RhbEZvb3RlciBleHRlbmRzIENvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNsYXNzTmFtZSwgZGlyZWN0aW9uYWwsIGNoaWxkcmVuLCAuLi5wcm9wcyB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBmdENsYXNzTmFtZXMgPSBjbGFzc25hbWVzKFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgJ3NsZHMtbW9kYWxfX2Zvb3RlcicsXG4gICAgICB7ICdzbGRzLW1vZGFsX19mb290ZXItLWRpcmVjdGlvbmFsJzogZGlyZWN0aW9uYWwgfVxuICAgICk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXsgZnRDbGFzc05hbWVzIH0geyAuLi5wcm9wcyB9PnsgY2hpbGRyZW4gfTwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuTW9kYWxGb290ZXIucHJvcFR5cGVzID0ge1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGRpcmVjdGlvbmFsOiBQcm9wVHlwZXMuYm9vbCxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxufTtcblxuXG5Nb2RhbC5IZWFkZXIgPSBNb2RhbEhlYWRlcjtcbk1vZGFsLkNvbnRlbnQgPSBNb2RhbENvbnRlbnQ7XG5Nb2RhbC5Gb290ZXIgPSBNb2RhbEZvb3RlcjtcblxuZXhwb3J0IGRlZmF1bHQgTW9kYWw7XG4iXX0=